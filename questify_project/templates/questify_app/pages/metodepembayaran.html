{% extends 'questify_app/layout/base.html' %}

{% load static %}

{% block page_css %}
    <link rel="stylesheet" href="css/metpem.css" />
    <link rel="stylesheet" href="css/style.css" />
    {% endblock %}

    {% block title %}Metode Pembayaran{% endblock %}
    
    {% block content %}
      <nav class="navbar navbar-expand-lg navbar-light bg-light position-fixed">
        <div class="container-fluid">

          <a class="navbar-brand d-flex align-items-center fs-0 fw-bold" href="#">
            Questify
            <img src="assets/images/arcticons--flixquest.png" alt="logo" class="ms-2" width="30" height="30" />
          </a>

          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav mx-auto me-auto mb-2 mb-lg-0">
              <li class="nav-item mx-3">
                <a class="nav-link" href="index.html">Home</a>
              </li>
              <li class="nav-item mx-2">
                <a class="nav-link" href="semuakelas.html">Semua Kelas</a>
              </li>
              <li class="nav-item mx-3">
                <a class="nav-link" href="#">Langganan</a>
              </li>
              <li class="nav-item mx-3">
                <a class="nav-link" href="hasilnilai.html">Hasil Nilai</a>
              </li>
            </ul>

            <div class="d-none d-lg-flex align-items-center">
              <img src="assets/images/world-map.png" alt="language" class="language-icon" style="width: 20px" />
              <span class="me-3">English</span>
              <a href="userprofile.html">
                <img src="assets/images/profil.png" alt="profile" class="profile-pic" />
              </a>
            </div>

            <ul class="navbar-nav d-lg-none">
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Lainnya</a>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <li><a class="dropdown-item" href="#">Bahasa</a></li>
                  <li><hr class="dropdown-divider" /></li>
                  <li><a class="dropdown-item btn btn-outline-primary" href="userprofile.html">Profile</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <div class="content-main">
      <div class="container-main">
        <h1>Metode Pembayaran</h1>
        <p>Pilih Metode Pembayaran Anda</p>
        <div class="payment-methods">
          <div class="method" onclick="selectMethod('BRI')">
              <img src="assets/images/bri.png" alt="Bank BRI">
          </div>
          <div class="method" onclick="selectMethod('BNI')">
              <img src="assets/images/bni.png" alt="Bank BNI">
          </div>
          <div class="method" onclick="selectMethod('BSI')">
              <img src="assets/images/bsi.jpeg" alt="Bank Syariah Indonesia">
          </div>
      </div>      
        <div class="steps-container">
            <div class="step">
              <div class="step-circle active">1</div>
              <p class="step-text">Metode Pembayaran</p>
            </div>
            <div class="step-line"></div>
            <div class="step">
              <div class="step-circle blue">2</div>
              <p class="step-text">Pembelian</p>
            </div>
          </div>
          
        <button id="continueButton" disabled>Lanjutkan</button>
      </div>
    </div>
    
    <footer class="footer">
        <div class="container">
          <p>&copy; 2024 Questify. All Rights Reserved.</p>
        </div>
      </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      function selectMethod(bankName) {
        alert('Metode pembayaran yang dipilih: ' + bankName);
        document.getElementById('continueButton').disabled = false;
        document.querySelectorAll('.method').forEach(method => {
          method.style.borderColor = 'transparent';
        });
        document.querySelector(`.method img[alt='${bankName}']`).parentElement.style.borderColor = '#007bff';
      }
    function selectMethod(method) {
        sessionStorage.setItem("selectedPaymentMethod", method);
        const continueButton = document.getElementById('continueButton');
        continueButton.disabled = false;  
        continueButton.style.opacity = '1';  
        continueButton.style.cursor = 'pointer';  
    }

  
    document.getElementById('continueButton').addEventListener('click', function () {
        window.location.href = 'payment.html'; 
    });
    </script>
{% endblock %}